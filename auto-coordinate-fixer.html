<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‡ªå‹•åº§æ¨™å–å¾—ã‚·ã‚¹ãƒ†ãƒ </title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f0f8ff;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 450px 1fr;
            gap: 20px;
            height: calc(100vh - 40px);
        }
        .control-panel {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            overflow-y: auto;
        }
        .map-container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            position: relative;
        }
        .google-map-frame {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 10px;
        }
        .step {
            background: #e8f4ff;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 5px solid #007bff;
        }
        button {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            width: 100%;
            margin: 5px 0;
            font-size: 16px;
        }
        button:hover {
            background: #218838;
        }
        button:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }
        .url-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            margin: 10px 0;
            font-size: 14px;
        }
        .store-item {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
            cursor: pointer;
        }
        .store-item:hover {
            background: #e9ecef;
        }
        .store-item.selected {
            background: #d4edda;
            border-color: #28a745;
        }
        .store-item.processed {
            background: #d1ecf1;
            border-color: #bee5eb;
        }
        .coordinates {
            font-family: monospace;
            font-size: 12px;
            color: #666;
        }
        .result-display {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
        }
        .success {
            color: #28a745;
            font-weight: bold;
        }
        .error {
            color: #dc3545;
            font-weight: bold;
        }
        .auto-mode {
            background: #007bff;
            margin: 15px 0;
        }
        .auto-mode:hover {
            background: #0056b3;
        }
        .coordinate-input {
            display: flex;
            gap: 10px;
            margin: 10px 0;
        }
        .coordinate-input input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ced4da;
            border-radius: 4px;
        }
        .manual-coords {
            background: #ffc107;
            color: #000;
        }
        .manual-coords:hover {
            background: #e0a800;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å·¦å´: ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ« -->
        <div class="control-panel">
            <h2>ğŸ¤– è‡ªå‹•åº§æ¨™å–å¾—ã‚·ã‚¹ãƒ†ãƒ </h2>
            
            <div class="step">
                <h4>ğŸš€ è‡ªå‹•å‡¦ç†</h4>
                <p>1ï¸âƒ£ Googleãƒãƒƒãƒ—ãƒªãƒ³ã‚¯ã‚’å…¥åŠ›</p>
                <p>2ï¸âƒ£ è‡ªå‹•ã§ãƒãƒƒãƒ—ãŒè¡¨ç¤ºã•ã‚Œã‚‹</p>
                <p>3ï¸âƒ£ åº§æ¨™ã‚’ç¢ºèªã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜</p>
            </div>
            
            <button onclick="loadStores()">åº—èˆ—ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿</button>
            <button onclick="startAutoProcess()" class="auto-mode">ğŸ”„ å…¨åº—èˆ—ã‚’è‡ªå‹•å‡¦ç†</button>
            
            <div id="storesList"></div>
            
            <div id="currentProcess" style="display: none;">
                <h3>ç¾åœ¨å‡¦ç†ä¸­ã®åº—èˆ—</h3>
                <div id="currentStore"></div>
                
                <h4>Googleãƒãƒƒãƒ—ãƒªãƒ³ã‚¯</h4>
                <input type="text" id="googleMapUrl" class="url-input" placeholder="Googleãƒãƒƒãƒ—ã®URLã‚’å…¥åŠ›ã¾ãŸã¯ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ãã ã•ã„">
                <button onclick="loadGoogleMapFromUrl()">ãƒãƒƒãƒ—ã‚’è¡¨ç¤º</button>
                
                <h4>æŠ½å‡ºã—ãŸåº§æ¨™</h4>
                <div class="coordinate-input">
                    <input type="number" id="extractedLat" placeholder="ç·¯åº¦" step="any">
                    <input type="number" id="extractedLng" placeholder="çµŒåº¦" step="any">
                </div>
                
                <button onclick="saveCoordinates()">åº§æ¨™ã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜</button>
                <button onclick="useManualCoordinates()" class="manual-coords">æ‰‹å‹•ã§åº§æ¨™ã‚’å…¥åŠ›</button>
                <button onclick="skipCurrentStore()">ã“ã®åº—èˆ—ã‚’ã‚¹ã‚­ãƒƒãƒ—</button>
                
                <div class="result-display" id="resultDisplay"></div>
            </div>
        </div>
        
        <!-- å³å´: Googleãƒãƒƒãƒ— -->
        <div class="map-container">
            <div id="mapContent" style="display: flex; align-items: center; justify-content: center; height: 100%; color: #666;">
                <div>
                    <i class="fas fa-map-marked-alt" style="font-size: 48px; margin-bottom: 20px;"></i>
                    <br>
                    åº—èˆ—ã‚’é¸æŠã—ã¦Googleãƒãƒƒãƒ—ã‚’è¡¨ç¤º
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // Supabaseè¨­å®š
        const SUPABASE_URL = 'https://lywfaolwvkewuouvkzlk.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx5d2Zhb2x3dmtld3VvdXZremxrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0MDg2NjcsImV4cCI6MjA2OTk4NDY2N30.wBGCHOLbP6ew7Bnvxrq0sKSm1EnHk5NNE1sWWH7ff60';
        
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        
        let stores = [];
        let currentStoreIndex = -1;
        let autoProcessing = false;
        
        // åº—èˆ—ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
        async function loadStores() {
            log('åº—èˆ—ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­...');
            
            try {
                const { data: allStores, error } = await supabase
                    .from('stores')
                    .select('*')
                    .order('name');
                
                if (error) throw error;
                
                stores = allStores || [];
                log(`${stores.length}åº—èˆ—ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã—ãŸ`);
                
                displayStoresList();
                
            } catch (error) {
                log(`ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }
        
        // åº—èˆ—ãƒªã‚¹ãƒˆè¡¨ç¤º
        function displayStoresList() {
            const storesList = document.getElementById('storesList');
            let html = '<h3>åº—èˆ—ä¸€è¦§ (ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ)</h3>';
            
            stores.forEach((store, index) => {
                const hasCoordinates = store.latitude && store.longitude && 
                    parseFloat(store.latitude) !== 0 && parseFloat(store.longitude) !== 0;
                
                const statusClass = hasCoordinates ? 'processed' : '';
                const statusIcon = hasCoordinates ? 'âœ…' : 'âŒ';
                
                html += `
                    <div class="store-item ${statusClass}" onclick="selectStore(${index})">
                        <strong>${statusIcon} ${store.name}</strong>
                        <div class="coordinates">
                            åº§æ¨™: ${hasCoordinates ? store.latitude + ', ' + store.longitude : 'ãªã—'}
                        </div>
                        <small>${store.address || 'ä½æ‰€æƒ…å ±ãªã—'}</small>
                    </div>
                `;
            });
            
            storesList.innerHTML = html;
        }
        
        // åº—èˆ—é¸æŠ
        function selectStore(index) {
            currentStoreIndex = index;
            const store = stores[index];
            
            // é¸æŠçŠ¶æ…‹ã‚’æ›´æ–°
            document.querySelectorAll('.store-item').forEach((item, i) => {
                item.classList.toggle('selected', i === index);
            });
            
            // ç¾åœ¨å‡¦ç†ä¸­ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º
            document.getElementById('currentProcess').style.display = 'block';
            
            // åº—èˆ—æƒ…å ±è¡¨ç¤º
            document.getElementById('currentStore').innerHTML = `
                <strong>${store.name}</strong><br>
                <small>ID: ${store.id}</small>
            `;
            
            // Googleãƒãƒƒãƒ—URLã‚’è‡ªå‹•æ¤œç´¢ãƒ»è¨­å®š
            const googleMapUrl = findGoogleMapUrl(store);
            document.getElementById('googleMapUrl').value = googleMapUrl;
            
            log(`åº—èˆ—é¸æŠ: ${store.name}`);
            
            // è‡ªå‹•ã§ãƒãƒƒãƒ—ã‚’èª­ã¿è¾¼ã¿
            if (googleMapUrl) {
                loadGoogleMapFromUrl();
            }
        }
        
        // Googleãƒãƒƒãƒ—ãƒªãƒ³ã‚¯æ¤œç´¢
        function findGoogleMapUrl(store) {
            const urlFields = ['google_maps_url', 'maps_url', 'url', 'link', 'website', 'google_maps'];
            
            // å®šç¾©ã•ã‚ŒãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‹ã‚‰æ¤œç´¢
            for (const field of urlFields) {
                const url = store[field];
                if (url && typeof url === 'string' && 
                    (url.includes('maps.google') || url.includes('goo.gl/maps'))) {
                    return url;
                }
            }
            
            // å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‹ã‚‰æ¤œç´¢
            for (const [key, value] of Object.entries(store)) {
                if (typeof value === 'string' && 
                    (value.includes('maps.google') || value.includes('goo.gl/maps'))) {
                    return value;
                }
            }
            
            return '';
        }
        
        // Googleãƒãƒƒãƒ—ã‚’URLã‹ã‚‰èª­ã¿è¾¼ã¿
        function loadGoogleMapFromUrl() {
            const url = document.getElementById('googleMapUrl').value.trim();
            if (!url) {
                log('Googleãƒãƒƒãƒ—ãƒªãƒ³ã‚¯ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
                return;
            }
            
            log(`Googleãƒãƒƒãƒ—ã‚’èª­ã¿è¾¼ã¿ä¸­...`);
            
            // åº§æ¨™ã‚’æŠ½å‡º
            const coordinates = extractCoordinatesFromGoogleMaps(url);
            if (coordinates) {
                document.getElementById('extractedLat').value = coordinates.lat;
                document.getElementById('extractedLng').value = coordinates.lng;
                log(`åº§æ¨™æŠ½å‡ºæˆåŠŸ: ${coordinates.lat}, ${coordinates.lng}`);
            } else {
                log('URLã‹ã‚‰åº§æ¨™ã‚’æŠ½å‡ºã§ãã¾ã›ã‚“ã§ã—ãŸ', 'error');
            }
            
            // Googleãƒãƒƒãƒ—ã®iFrameã‚’ä½œæˆ
            let embedUrl = url;
            
            // é€šå¸¸ã®Googleãƒãƒƒãƒ—ãƒªãƒ³ã‚¯ã‚’åŸ‹ã‚è¾¼ã¿ç”¨ã«å¤‰æ›
            if (url.includes('maps.google.') && !url.includes('embed')) {
                // @åº§æ¨™å½¢å¼ã®å ´åˆ
                const atMatch = url.match(/@(-?\\d+\\.\\d+),(-?\\d+\\.\\d+)/);
                if (atMatch) {
                    embedUrl = `https://www.google.com/maps/embed/v1/view?key=dummy&center=${atMatch[1]},${atMatch[2]}&zoom=18`;
                } else {
                    // q=ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒã‚ã‚‹å ´åˆ
                    const qMatch = url.match(/[?&]q=([^&]+)/);
                    if (qMatch) {
                        const query = encodeURIComponent(decodeURIComponent(qMatch[1]));
                        embedUrl = `https://www.google.com/maps/embed/v1/place?key=dummy&q=${query}`;
                    }
                }
            }
            
            // OpenStreetMapã‚’ä½¿ç”¨ï¼ˆAPIã‚­ãƒ¼ä¸è¦ï¼‰
            if (coordinates) {
                const mapContent = document.getElementById('mapContent');
                mapContent.innerHTML = `
                    <div style="width: 100%; height: 100%; position: relative;">
                        <div id="leafletMap" style="width: 100%; height: 100%; border-radius: 10px;"></div>
                        <div style="position: absolute; top: 10px; right: 10px; background: white; padding: 10px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">
                            <strong>æŠ½å‡ºåº§æ¨™</strong><br>
                            ${coordinates.lat.toFixed(6)}<br>
                            ${coordinates.lng.toFixed(6)}
                        </div>
                    </div>
                `;
                
                // Leafletãƒãƒƒãƒ—ã‚’åˆæœŸåŒ–
                setTimeout(() => {
                    if (typeof L !== 'undefined') {
                        const leafletMap = L.map('leafletMap').setView([coordinates.lat, coordinates.lng], 18);
                        
                        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                            attribution: 'Â© OpenStreetMap contributors'
                        }).addTo(leafletMap);
                        
                        // ãƒãƒ¼ã‚«ãƒ¼ã‚’è¿½åŠ 
                        L.marker([coordinates.lat, coordinates.lng])
                            .addTo(leafletMap)
                            .bindPopup(`${stores[currentStoreIndex].name}<br>åº§æ¨™: ${coordinates.lat.toFixed(6)}, ${coordinates.lng.toFixed(6)}`)
                            .openPopup();
                    }
                }, 100);
            } else {
                // åº§æ¨™ãŒæŠ½å‡ºã§ããªã„å ´åˆã¯Googleãƒãƒƒãƒ—ã®iframeã‚’è©¦è¡Œ
                const mapContent = document.getElementById('mapContent');
                mapContent.innerHTML = `
                    <iframe 
                        src="${embedUrl}" 
                        class="google-map-frame"
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                `;
            }
        }
        
        // Googleãƒãƒƒãƒ—URLã‹ã‚‰åº§æ¨™ã‚’æŠ½å‡º
        function extractCoordinatesFromGoogleMaps(url) {
            const patterns = [
                // @lat,lng,zoom ãƒ‘ã‚¿ãƒ¼ãƒ³
                /@(-?\\d+\\.\\d+),(-?\\d+\\.\\d+)/,
                // !3dç·¯åº¦!4dçµŒåº¦ ãƒ‘ã‚¿ãƒ¼ãƒ³  
                /!3d(-?\\d+\\.\\d+).*!4d(-?\\d+\\.\\d+)/,
                // ll=lat,lng ãƒ‘ã‚¿ãƒ¼ãƒ³
                /ll=(-?\\d+\\.\\d+),(-?\\d+\\.\\d+)/,
                // q=lat,lng ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆæ•°å­—ã®ã¿ï¼‰
                /q=(-?\\d+\\.\\d+),(-?\\d+\\.\\d+)/,
                // center=lat,lng ãƒ‘ã‚¿ãƒ¼ãƒ³
                /center=(-?\\d+\\.\\d+),(-?\\d+\\.\\d+)/
            ];
            
            for (const pattern of patterns) {
                const match = url.match(pattern);
                if (match) {
                    const lat = parseFloat(match[1]);
                    const lng = parseFloat(match[2]);
                    
                    if (isValidCoordinate(lat, lng)) {
                        return { lat, lng };
                    }
                }
            }
            
            return null;
        }
        
        // åº§æ¨™ã®å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯
        function isValidCoordinate(lat, lng) {
            return !isNaN(lat) && !isNaN(lng) && 
                   lat >= -90 && lat <= 90 && 
                   lng >= -180 && lng <= 180 &&
                   lat !== 0 && lng !== 0;
        }
        
        // åº§æ¨™ã‚’ä¿å­˜
        async function saveCoordinates() {
            const lat = parseFloat(document.getElementById('extractedLat').value);
            const lng = parseFloat(document.getElementById('extractedLng').value);
            
            if (!isValidCoordinate(lat, lng)) {
                log('ç„¡åŠ¹ãªåº§æ¨™ã§ã™', 'error');
                return;
            }
            
            const store = stores[currentStoreIndex];
            log(`åº§æ¨™ä¿å­˜ä¸­: ${store.name} â†’ (${lat.toFixed(6)}, ${lng.toFixed(6)})`);
            
            try {
                const success = await updateStoreCoordinates(store.id, lat, lng);
                
                if (success) {
                    // ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚‚æ›´æ–°
                    stores[currentStoreIndex].latitude = lat.toString();
                    stores[currentStoreIndex].longitude = lng.toString();
                    
                    log(`âœ… åº§æ¨™ä¿å­˜æˆåŠŸ: ${store.name}`, 'success');
                    
                    // ãƒªã‚¹ãƒˆè¡¨ç¤ºã‚’æ›´æ–°
                    displayStoresList();
                    
                    // è‡ªå‹•å‡¦ç†ä¸­ãªã‚‰æ¬¡ã®åº—èˆ—ã¸
                    if (autoProcessing) {
                        setTimeout(() => {
                            nextStore();
                        }, 1000);
                    }
                } else {
                    log(`âŒ åº§æ¨™ä¿å­˜å¤±æ•—: ${store.name}`, 'error');
                }
                
            } catch (error) {
                log(`ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }
        
        // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åº§æ¨™æ›´æ–°
        async function updateStoreCoordinates(storeId, lat, lng) {
            try {
                const updateData = {
                    latitude: lat.toString(),
                    longitude: lng.toString()
                };
                
                const { error } = await supabase
                    .from('stores')
                    .update(updateData)
                    .eq('id', storeId);
                
                return !error;
                
            } catch (error) {
                console.error('ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ›´æ–°ã‚¨ãƒ©ãƒ¼:', error);
                return false;
            }
        }
        
        // å…¨åº—èˆ—è‡ªå‹•å‡¦ç†
        async function startAutoProcess() {
            autoProcessing = true;
            log('å…¨åº—èˆ—ã®è‡ªå‹•å‡¦ç†ã‚’é–‹å§‹ã—ã¾ã™', 'success');
            
            // åº§æ¨™ãŒãªã„åº—èˆ—ã‚’æ¤œç´¢
            const unprocessedStores = stores
                .map((store, index) => ({ store, index }))
                .filter(({ store }) => 
                    !store.latitude || !store.longitude || 
                    parseFloat(store.latitude) === 0 || parseFloat(store.longitude) === 0
                );
            
            if (unprocessedStores.length === 0) {
                log('ã™ã¹ã¦ã®åº—èˆ—ã«åº§æ¨™ãŒè¨­å®šæ¸ˆã¿ã§ã™', 'success');
                return;
            }
            
            log(`${unprocessedStores.length}åº—èˆ—ã‚’å‡¦ç†ã—ã¾ã™`);
            
            // æœ€åˆã®åº—èˆ—ã‚’é¸æŠ
            selectStore(unprocessedStores[0].index);
        }
        
        // æ¬¡ã®åº—èˆ—ã¸
        function nextStore() {
            const nextIndex = stores.findIndex((store, index) => 
                index > currentStoreIndex && 
                (!store.latitude || !store.longitude || 
                 parseFloat(store.latitude) === 0 || parseFloat(store.longitude) === 0)
            );
            
            if (nextIndex !== -1) {
                selectStore(nextIndex);
            } else {
                log('å…¨ã¦ã®åº—èˆ—ã®å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸï¼', 'success');
                autoProcessing = false;
                document.getElementById('currentProcess').style.display = 'none';
            }
        }
        
        // æ‰‹å‹•åº§æ¨™å…¥åŠ›
        function useManualCoordinates() {
            const lat = prompt('ç·¯åº¦ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:');
            const lng = prompt('çµŒåº¦ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:');
            
            if (lat && lng && isValidCoordinate(parseFloat(lat), parseFloat(lng))) {
                document.getElementById('extractedLat').value = lat;
                document.getElementById('extractedLng').value = lng;
                log(`æ‰‹å‹•åº§æ¨™è¨­å®š: ${lat}, ${lng}`);
            }
        }
        
        // åº—èˆ—ã‚¹ã‚­ãƒƒãƒ—
        function skipCurrentStore() {
            log(`åº—èˆ—ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã—ãŸ: ${stores[currentStoreIndex].name}`);
            if (autoProcessing) {
                nextStore();
            }
        }
        
        // ãƒ­ã‚°æ©Ÿèƒ½
        function log(message, type = 'info') {
            const resultDisplay = document.getElementById('resultDisplay');
            if (!resultDisplay) return;
            
            const timestamp = new Date().toLocaleTimeString();
            const colorClass = type === 'error' ? 'error' : type === 'success' ? 'success' : '';
            
            resultDisplay.innerHTML += `<div class="${colorClass}">[${timestamp}] ${message}</div>`;
            resultDisplay.scrollTop = resultDisplay.scrollHeight;
            
            console.log(message);
        }
        
        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            log('è‡ªå‹•åº§æ¨™å–å¾—ã‚·ã‚¹ãƒ†ãƒ ãŒæº–å‚™ã§ãã¾ã—ãŸ');
        });
    </script>
    
    <!-- Leaflet.js for map display -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</body>
</html>